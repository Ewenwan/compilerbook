# compilerbook

现代体系结构的优化编译器.pdf

高级编译器设计与实现.pdf

> 加快计算速度发展

单机单发射单级流水线 ---> 多发射多级流水线(并行取指+并行执行指令)---> 再+向量化(数据并行，向量寄存器执行部件)---> 多线程 ---> 分布式多机器

编译器 应该能 自动执行 上述 优化pass，能够达到或超过 手工优化的方式才够格。

指令调度，重排指令序列(避免数据相关的前后指令依赖、控制相关的分支预测失败等)，使得指令流水线尽量不出现流水线停顿(pipeline stall),使得流水线保持充满状态。

多发射：每个指令周期发射多条流水线指令，还有得可以乱序发射指令。

存储系统相关，时延:从存储器传送单个数据需要的处理器周期数；带宽:每个周期从存储系统能传送到处理器的数据元素个数。

避免时延:经常使用(引用)的值存放在快速中间存储器(处理器中的寄存器，cache高速缓存)，第一次引用后，之后的引用代价很低。

延迟容忍:在取数据时做一些延迟容忍的其他事情，如数据显示预取、无阻塞取数。

循环变换，嵌套循环应该考虑内循环分段（循环分块），使其大小适合目标计算机的cache高速缓存的大小，这种机器各异的优化应当由编译器进行优化。



